<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VERONICA-Your personal Voice assistant!</title>
</head>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='verstyle.css') }}">
<script src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" charset="UTF-8"></script>

<body>
 <header>
      <nav>
         <div class="logo"><a href = "home"><img src="{{ url_for('static', filename='Logo1-8.png') }}" alt=""></a></div>
         <div class="navlinks">
             <ul>
                 <li class  = "curvedbg"><a  href="home">HOME</a></li>
                 <li class = "curvedbg"><a  href="about">ABOUT</a></li>
                 <li class = "curvedbg" ><a onclick="bkend('this is a prompt')">Test</a></li>
                 <li><a class = "settings" onclick="toggleSettings()"><img src = "{{ url_for('static', filename='settings-8.png')}}"></a></li>
                 <li><button id="recordButton">Start Recording</button></li>
                </ul>
          </div>
      </nav>
 </header>
 <a class="roles" onclick="toggleRoles()"><img src="{{ url_for('static', filename='Asset 5-8.png')}}" alt=""></a>
 <div class="text"><div id="response" class="maintext">Lorem ipsum dolor sit amet.</div></div>
 <div class="roles-window" id="rolesWindow">
    <div class="menu">
        <div class="item" onclick="selectRole('Professor')" ><a href="#">Professor</a></div>
        <div class="item" onclick="selectRole('Therapist')"><a href="#">Therapist</a></div>
        <div class="item" onclick="selectRole('Legal Advisor')"><a href="#">Legal Advisor</a></div>
        <div class="item" onclick="selectRole('Nutritionist')"><a href="#">Nutritionist</a></div>
        <button class="btn">+ Add Roles</button>
    </div>
 </div>
 
 <div class="settings-window" id="settingsWindow">
    <div class="menu">
        <div class="item" id="one"><a href="#">Microphone Settings</a></div>
        <div class = "line"></div>
        <div class="censor"><a href="#">Censorship</a> 
            <label class="toggle-switch">
                <input type="checkbox" id="toggleBtn">
                <span class="slider"></span>
            </label>
        </div>
        <div class = "line"></div>
        <div class="item" id="three" ><a href="#">FAQ</a></div>
    </div>
 </div>
 <script>
    function toggleSettings() {
        var settingsWindow = document.getElementById('settingsWindow');
        settingsWindow.classList.toggle('show-settings');
    }

    function closeSettings() {
        var settingsWindow = document.getElementById('settingsWindow');
        settingsWindow.classList.remove('show-settings');
    }
    function toggleRoles() {
        var rolesWindow = document.getElementById('rolesWindow');
        rolesWindow.classList.toggle('show-roles');
    }
    function selectRole(role) {
            selectedRole = role;
            toggleRoles();
        }
    
    function bkend(data)
    {
        this_data = data;
        console.log(this_data);

    }
    $(document).ready(function() {
            var recording = false;

            $('#recordButton').click(function() {
                if (!recording) {
                    $.ajax({
                        url: '/toggle-recording',
                        type: 'POST',
                        success: function(response) {
                            $('#recordButton').text('Stop Recording');
                            recording = true;
                        }
                    });
                } else {
                    $.ajax({
                        url: '/toggle-recording',
                        type: 'POST',
                        success: function(response) {
                            $('#recordButton').text('Start Recording');
                            recording = false;
                            $('#response').text(response.transcription)
                        }
                    });
                }
            });
        });
</script>
</body>
</html>